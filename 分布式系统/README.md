# 分布式系统

## 什么是分布式系统

## 为什么要用分布式系统

## 分布式系统的设计理念

### 首要目标

首要目标：提升系统的==整体性能==和==吞吐量==。

### 两大关键目标

两大关键目标：

1. 性能
2. 容错率

从性能这一目标也能看出**分布式系统对程序员的要求**

即使采用了分布式架构，也仍然需要尽力提升单机上的程序性能，使得程序整体性能达到最高。
作为程序员的我们依然需要掌握==高性能单机程序的设计和编程技巧==，例如：

1. 多线程并发编程
2. 多进场高性能IPC通信
3. 高性能的网络框架

**分布式系统存在无法避免的风险和严重问题**，发生故障的概率大大增加，所以必须要有容错率。

性能和容错率是负相关的，性能越好容错率越低，反之亦然。

对性能这一目标的追求是绝对的，但是容错率在不同场景下要求不同。


### 两大思路

两大思路：

1. 中心化
2. 去中心化

#### 中心化

中心化的思想：
分布式集群中的节点按照角色分工，分为Leader和Worker

1. Leader负责分发任务并监督Worker，让Worker一直工作
2. 如果Leader发现Worker因意外无法正常工作，就将其从Worker队列去除并将任务分给其他Worker

*基于容器技术的微服务架构Kubernetes就采用这一思想*

##### 中心化存在的最大问题

如果Leader出问题，整个集群就会崩溃

#### 去中心化

与敏捷开发类似。

即充分相信每个Worker，Leader只负责任务的生成而不再指派任务，
由每个Worker自发领任务，从而避免让个别Worker执行的任务过多，并鼓励能者多劳。

##### 去中心化存在的问题

“脑裂”问题：


## 参考书籍

《架构解密：从分布式到微服务（第二版）》吴治辉
