# HYpick无序抓取 经验总结

[toc]

## 准备工作

### 硬件

笔记本或者台式电脑需要有1个以太网RJ-45接口和3个USB3.0接口。

如果没有以太网的RJ-45接口可以使用转接线，没有影响。
如果USB接口不够可以使用扩展线，但是要注意传输带宽的问题，该问题可能会导致识别拍照失败。

### 软件

MVS、HYpick 2.7.1.7

## 硬件调试

### 相机的连接

将视觉设备的三条USB线连接到电脑上。
用MVS软件打开摄像头看看是不是所有的摄像头都能够连得上，能否正常采集相片。

## 软件（HYpick）的基本使用

所有的摄像头都可以正常采集相片后就可以在HYpick里连接相机进行后续工作了。

### 相机曝光参数的设置

每一次打开HYpick后，在拍摄照片以及生成点云前都要先检查曝光参数的设置是否正确。虽然最新版本的HYpick会自动记录你上一次使用设置的参数，但有时候拍摄环境发生变化需要重新设置曝光参数。

#### 实时曝光

根据现场的光照情况进行设置，欠曝光或者过曝光都会影响到后续的立体标定和点云生成。

#### 触发曝光

最新的HYpick有自动检测功能，这个自动检测功能是根据你设置的实时曝光来检测的。如果检测出来后点云生成质量不好，则说明实时曝光的设置不合理。

### 投影仪参数的设置

#### 触发周期

设置的值过大会导致拍照识别的速度过慢，过小则可能会导致无法在周期内完成拍摄导致识别失败。

#### 投影仪的亮度

RGB三通道，范围$[0 , 255]$，根据环境光的情况来设置。亮度不足会导致生成的点云质量不佳，无法识别。

### 立体标定

在设置好相机的参数后就可以开始立体标定了。

#### 标定板的选择以及优缺点

目前主流的有棋盘标定板、圆点标定板等

#### 标定板的放置以及参数设置

这里以棋盘格标定板为例。在开始标定前先要确保标定板上没有明显的划痕。
将标定板放在左相机视野里的靠近中间的区域，且保证右相机能够看到标定板上所有的角点。

在HYpick里的左右相机窗口放大观察棋盘上每一个格子的边缘，边缘应是锯齿状的。

开始标定之前要设置标定板的参数，棋盘格子的行数和列数必须是一个奇数和一个偶数。

#### 开始标定

点击```标定```按钮即可开始标定。

每一次拍摄后都要移动标定板使其在水平位移、选择、倾斜的角度也要有变化（拿个东西将标定板的一侧垫高）。

### 手眼标定

立体标定结束后即可进行手眼标定。

### 检查机器人连接

### 工具标定

## 夹具的使用

### 电爪

### 气爪



## 勃朗特机器人的使用

### 使用示教器直接控制机器人

### 编程控制机器人

### IO的使用

## 无序抓取

在进行抓取之前，确保立体标定、手眼标定、工具标定已完成，检查夹具是否正常工作，HYpick是否能够与机器人建立连接。

### ROV区域的划定

### 过滤无关点云的干扰

### 被抓取物体的模板制作

### 识别测试

### 运行抓取的流程

### 补偿值的调整
