# 伯朗特机器人调试问题总结

## 抓取流程

```flow
    st=>start: 开始
    ed=>end: 等待

    op1=>operation: 机器人在起始位置张开爪子
    op2=>operation: 机器人置IO3（Y13）为1触发拍照
    op3=>operation: HYpick拍照识别并置IO3（Y13）为0
    op4=>operation: 发送点位给机器人发送完毕后置IO8（Y20）为1

    cond1=>condition: 等待HYpick置IO8（Y020）为1

    op5=>operation: 机器人移动到目标上方的过渡点
    op6=>operation: 机器人移动到目标点（抓取点）合爪抓取
    op7=>operation: 机器人移动到过渡点
    op8=>operation: 机器人移动到放料点，开爪放料
    op9=>operation: 机器人回到起始点并置IO8（Y20）为0
    
    cond2=>condition: 确认IO8（Y020）是否为1

    cond2_op=>operation: 置IO8（Y020）为1

    st->op1->op2->op3->op4->cond1->op5->op6->op7->op8->op9->cond2
    cond2_op->cond1

    cond1(yes)->op5
    cond1(no)->cond1

    cond2(no)->cond2_op
    cond2(yes)->ed
```

## 调试流程

整个伯朗特机器人运行的流程：

```flow
    st=>start: 开始
    ed=>end: 结束
    op=>operation: HYpick
    op1=>operation: 1.先把机器人模式调到自动模式
    op2=>operation: 2.HYpick点击运行
    op3=>operation: 3.按下示教器上的启动按钮

    st->op1->op2->op3->ed
```

目前1、2、3的顺序如果颠倒会如何未测试。

## 20210422 问题总结

### 1、电爪夹具存在问题，夹钉子容易掉

**解决方案：**
采购金属夹具，或使用气爪替代

### 2、电爪电线可能会缠绕在机械臂末端上

**解决方案：**通过代码判断J6关节旋转的角度，避免缠绕。

个人想法：
世界坐标反解关节坐标，直接发送关节坐标。
因为世界坐标的求解不可控，存在潜在的问题。