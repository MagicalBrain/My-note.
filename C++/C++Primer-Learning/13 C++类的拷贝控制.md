# 13 C++类的拷贝控制

## 13.1 拷贝、赋值与销毁

每当我们定义一个类，我们都将显式或者隐式地指定在此类型的对象拷贝、移动、赋值和销毁时做什么。
这些操作即 ==拷贝控制操作==

**拷贝控制操作**
一个类通过定义五种特殊的成员函数来控制这些操作，包括：
1. 拷贝构造函数（copy constructor）
2. 拷贝复制运算符（copy-assignment）
3. 移动构造函数（move constructor）
4. 移动赋值运算符（move-assignment）
5. 析构函数（destructor）

拷贝和移动构造函数（即上面的1和3）定义了当用同类型的另一个对象初始化本对象时做什么。

拷贝和移动赋值运算符定义了将一个对象赋予同类型的另一个对象时做什么。

析构函数定义了当此对象销毁时做什么。

**注意**：
在定义任何C++类的时候，拷贝控制函数都是必要部分。
如果我们不显示定义，编译器也会自动生成定义，但有时候自动生成的定义并非我们想要的。

### 拷贝构造函数

**定义**：
如果一个构造函数的==第一个==参数是自身类型的引用，且任何其它参数都有默认值，那么这就是一个拷贝构造函数。

```cpp
class Foo {
public:
    Foo();              // 默认构造函数
    Foo(const Foo&);    // 拷贝构造函数
}
```

虽然我们可以定义一个接受非const引用的构造函数，但这个参数的作用实际上就相当于一个const引用。

拷贝构造函数在几种情况下都会被隐式地使用。

因此，拷贝构造函数通常不应该是`explicit`的。


