# 如何使用extern关键字来调用外部文件的变量

在写某个Api库的使用笔记的时候，我一般喜欢创建一个虚基类A，然后为官方给出的每一个demo创建一个类i继承A。

但是有些Api的形参是回调函数，而且一般不支持类成员函数，这就意味这我必须使用全局函数和全局变量。

使用全局函数好说，直接在头文件声明，cpp文件实现定义即可。

头疼的地方在于全局变量，因为有时候使用这个函数的不止一个demo，即有若干个类需要使用到这个全局变量。
很容易就会遇到重复定义导致的链接错误（在vs里是LINK错误2001）

全局变量一般不建议定义在头文件里，因为在别的文件也想调用这个变量的时候，很容易造成重复定义的问题。

建议的做法：
1. 在头文件对应的.cpp文件里定义
2. 当别的文件想调用的时候请使用extern关键字定义

例如：

在`OpenGL-Learning`项目中，基类`test4_1`的cpp文件定义了两个全局变量：

```cpp
#include "test4_1.h"

float aspect;
glm::mat4 pMat;
```

当类`test4_1c`的cpp文件想调用这两个全局变量，则应该这么定义：

```cpp
#include "../include/test4_1c.h"

extern float aspect;
extern glm::mat4 pMat;
```
