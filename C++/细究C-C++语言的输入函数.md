# 细究C/C++语言的输入函数

标签（空格分隔）： C语言 C++

---

## scanf函数的返回值
没有输入的情况
在这种情况下，通过查阅官方手册可知，返回值是**EOF**。EOF是**值为-1的符号常量**
、有输入的情况
返回值为正整数
### 1、 正整数
表示正确输入参数的个数。例如执行 scanf("%d %d", &a, &b);
如果用户输入"3 4"，可以正确输入，返回2（正确输入了两个变量）；
如果用户输入"3,4"，可以正确输入a，无法输入b，返回1（正确输入了一个变量）。

### 2、0
表示用户的输入不匹配，无法正确输入任何值。如上例，用户如果输入",3 4"，返回0。
### 3、 EOF
这是在stdio.h里面定义的常量（通常值为-1），表示输入流已经结束。在Windows下，用户按下CTRL+Z（会看到一个^Z字符）再按下回车（可能需要重复2次），就表示输入结束；Linux/Unix下使用CTRL+D表示输入结束。

## 常见问题
### 输入字符串
```c
char c1[n];
char *c=c1;
scanf("%s",c);
	
printf("%s\n",c1);
```
**所以就会有以下这种常用的应用：**
```C
//当不知道循环次数的情况下，常会使用以下代码
while (~scanf("%d",&a)) //当没有输入，循环终止
{
    ……
}
```
~是按位取反符
-1的补码是1的补码取反后再加1
1的补码：
0000 0001
取反后：
1111 1110
再加1：
1111 1111
就是-1的补码了
可以看到，-1的补码按位取反就是0
**注意：不能用“！”符号哦**，因为这样子一有输入，就会跳出循环哦

## getchar()函数
虽然每次只读取一个字符，但是如果以回车来结束的话，会把回车作为最新的输入读进去造成后面的输入错误（连续输入，相当于输入一个字符串，在某些需要输入单个字符的场合会出BUG）

# C++
## cin函数
cin.clear();
			cin.ignore();