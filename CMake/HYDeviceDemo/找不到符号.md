# 解决cmake编译时找不到符号

## 解决cmake编译时找不到符号：boost::log::v2s_mt_posix::trivial::logger::get()

```cmake
cmake_minimum_required(VERSION 3.10)
project(log_example)

set(CMAKE_CXX_STANDARD 17)
set(Boost_USE_DEBUG_LIBS         OFF) # ignore debug libs and
set(Boost_USE_RELEASE_LIBS       ON)  # only find release libs
set(Boost_USE_MULTITHREADED      ON)
set(Boost_USE_STATIC_RUNTIME    OFF)
set(CMAKE_CXX_COMPILER "g++")

ADD_DEFINITIONS(-DBOOST_LOG_DYN_LINK)

find_package(Boost 1.70.0 COMPONENTS thread log REQUIRED log_setup)

include_directories(${BOOST_INCLUDE_DIRS})

add_executable(log_example log_example.cpp)

target_link_libraries(log_example pthread ${Boost_LIBRARIES} ${Boost_LOG_LIBRARY} )

set(CMAKE_CXX_FLAGS "-g -Wall -DBOOST_LOG_DYN_LINK")
```

```cmake
cmake_minimum_required(VERSION 3.10)
project(log_example)

set(CMAKE_CXX_STANDARD 17)

find_package(Boost 1.70.0 COMPONENTS thread log log_setup)

include_directories(${BOOST_INCLUDE_DIRS})

add_executable(log_example log_example.cpp)

target_link_libraries(log_example pthread Boost::log Boost::log_setup )
```

## HYDeviceDemo.cpp:(.text+0x293): undefined reference to `hy::HYSensorClient::Connect(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&)'

如果出现在编译HYDeviceSDK库的时候，那可能是没有定义`_USR_DLL`宏（详细的请查看HYDeviceDemo.h)

如果是在编译HYDeviceDemo的时候：
先检查以下`libHYDeviceSDK.so`的符号

先cd到库的目录下

```
nm -D 库名  | grep 函数名
```

试试安装头文件
```cmake
INSTALL(FILES programming-network.h
        DESTINATION "../include"
        )
```