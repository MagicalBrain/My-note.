# 3.2

## 选择题

#### 1、下列关于虚拟存储器的叙述中，正确的是？

A、虚拟存储只能基于连续分配技术
B、虚拟存储只能基于非连续分配技术
C、虚拟存储容量只受外存容量的限制
D、虚拟存储容量只受内存容量的限制

<details>
<summary>点击查看答案与解析</summary>

正解：B
解析：
装入程序时，只将程序的一部分装入内存，而将其余部分留在外存，就可以启动程序执行。采用连续分配方式时，会使相当一部分内存空间都处于暂时或“永久”的空闲状态，造成内存资源的严重浪费，也无法从逻辑上扩大内存容量，因此虚拟内存的实现只能建立在离散分配的内存管理的基础上。有以下种实现方式:
①请求分页存储管理；
②请求分段存储管理；
③请求段页式存储管理。
虚拟存储器容量既不受外存容量限制，又不受内存容量限制，而是由CPU的寻址范围决定的。
</details>

#### 2.请求分页存储管理中，若把页面尺寸增大一倍而且可容纳的最大页数不变，则在程序顺序执行时缺页中断次数会（）

A.增加
B.减少
C.不变
D.可能增加也可能减少

<details>
<summary>点击查看答案与解析</summary>

正解：B
解析：
在请求分页存储器中，由于页面尺寸增大，存放程序需要的页帧数就会减少，因此缺页中断的次数也会减少。
</details>

#### 4、在缺页处理过程中，操作系统执行的操作可能是？

1. 修改页表
2. 磁盘I/O
3. 分配页框

A、1,2
B、2,3
C、1,3
D、1,2,3

<details>
<summary>点击查看答案与解析</summary>

正解：D
缺页中断调入新页面，肯定要修改页表项和分配页框，所以I、III可能发生，同时内存没有页面，需要从外存调入，会触发I/O操作。
</details>

#### 5、若用户进程访问内存时产生缺页，则下列选项中，操作系统可能执行的操作是？

1. 处理越界错
2. 置换页
3. 分配内存

A、1,2
B、2,3
C、1,3
D、1,2,3

<details>
<summary>点击查看答案与解析</summary>

5.B
用户进程访问内存时缺页，会发生缺页中断。发生缺页中断时，系统执行的操作可能是置换
页面或分配内存。系统内没有越界错误，不会进行越界出错处理。
</details>

#### 9、（ ）是请求分页存储管理方式和基本分页存储管理方式的区别

A、地址重定向
B、不必将作业全部装入内存
C、采用快表技术
D、不必将作业装入连续区域

<details>
<summary>点击查看答案与解析</summary>

9.B
请求分页存储管理方式和基本分页存储管理方式的区别是，前者采用虚拟技术，因此开始运
行时，不必将作业全部一次性装入内存，而后者不是。
</details>

#### 10.下面关于请求页式系统的页面调度算法中，说法错误的是（）

A.一个好的页面调度算法应减少和避免抖动现象
B.FIFO算法实现简单，选择最先进入主存储器的页面调出
C.LRU算法基于局部性原理，首先调出最近一段时间内最长时间未被访问
过的页面
D. CLOCK算法首先调出一段时间内被访问次数多的页面

<details>
<summary>点击查看答案与解析</summary>

10.D
 CLOCK算法选择将最近未使用的页面置换出去，因此又称NRU算法
</details>

#### 11.考虑页面置换算法，系统有m个物理块供调度，初始时全空，页面引用串长度为p，包含了n个不同的页号，无论用什么算法，缺页次数不会少于（）

 A. m
 B. p
 C. n
 D. min（m， n）
 
<details>
<summary>点击查看答案与解析</summary>

11.
无论采用什么页面置换算法，每种页面第一次访问时不可能在内存中，必然发生缺页，所以
缺页次数大于等于n
</details>

#### 16、导致LRU算法实现起来耗费高的原因是？

A、需要硬件的特殊支持
B、需要特殊的中断处理程序
C、需要在页表中标明特殊的页类型
D、需要对所有的页进行排序

<details>
<summary>点击查看答案与解析</summary>

16.D
LRU算法需要对所有页最近一次被访问的时间进行记录，查找时间最久的进行替换，这涉及排序，对置换算法而言，开销太大。为此需要在页表项中增加LRU位，选项A可看作是“耗费高”这一结果，选项D才是造成选项A的原因。
</details>

#### 17、在虚拟存储器系统的页表项中，决定是否会发生页故障的是？

A、合法位
B、修改位
C、页类型
D、保护码

<details>
<summary>点击查看答案与解析</summary>

17.A
页表项中的合法位信息显示本页面是否在内存中，即决定了是否会发生页面故障。
</details>

#### 18、在页面置换策略中，（ ）可能会引起抖动

A、FIFO
B、LRU
C、没有一种
D、所有

<details>
<summary>点击查看答案与解析</summary>

18.D
抖动是批晨进程的页面置换过程中，频繁的页面调度（缺页中断）行为，所有的页面调度策略都不可能完全避免抖动。
</details>

#### 20、使用（ ）方法可以实现虚拟存储

A、分区合并
B、覆盖、交换
C、快表
D、段合并

<details>
<summary>点击查看答案与解析</summary>

20.B
虚拟存储扩充内存的基本方法是将一些页或段从内存中调入、调出，而调入、调出的基本手
段是覆盖与交换。
</details>

#### 21.请求分页存储管理的主要特点是（）

A.消除了页内零头
B.扩充了内存
C.便于动态链接
D.便于信息共享

<details>
<summary>点击查看答案与解析</summary>

21.B
请求分页存储管理就是为了解决内存容量不足而使用的方法，它基于局部性原理实现了以时间换取空间的目的。它的主要特点自然是间接扩充了内存。
</details>

#### 23、产生内存抖动的主要原因是？

A、内存空间太小
B、CPU运行速度太慢
C、CPU调度算法不合理
D、页面置换算法不合理

<details>
<summary>点击查看答案与解析</summary>

23.D
内存抖动是指频繁地引起主存页面淘汰后又立即调入，调入后又很快淘汰的现象。这是由页面置换算法不合理引起的一种现象，是页面置换算法应当尽量避免的。
</details>

#### 26、提供虚拟存储技术的存储管理方法有？

A、动态分区存储管理
B、页式存储管理
C、请求段式存储管理
D、存储通道程序

<details>
<summary>点击查看答案与解析</summary>

26.C
虚拟存储技术是基于页或段从内存的调入调出实现的，需要有请求机制的支持。
</details>

#### 29、已知系统为32位实地址，采用48位虚地址，页面大小为4KB，页表项大小为8B。假设系统使用纯页式存储，则要采用（ ）级页表，页内偏移（ ）位

A、3,12
B、3,14
C、4,12
D、4,14

<details>
<summary>点击查看答案与解析</summary>

29.C
页面大小为4KB，因此页内偏移为12位系统采用48位虚拟地址，因此虚页号48-12=36位。采用多级页表时，最高级页表项不能超出一页大小；每页能容纳的页表项数为$4KB \div 8B=512=2^9$，36/9=4，因此应采用4级页表，最高级页表项正好占据一页空间，所以本题选择C
</details>

#### 30、下列说法正确的是？

1. 先进先出（FIFO）页面置换算法会产生Belady现象
2. 最近最少使用LRU页面置换算法会产生Belady现象
3. 在进程运行是，若其工作集页面都在虚拟存储器内，则能够使该进程有效地运作，否则会出现频繁的页面调入/调出现象
4. 在进程运行时，若其工作集页面都在主存储器内，则能够使该进程有效地运行，否则会出现频繁的页面调入/调出现象

A、1,3
B、1,4
C、2,3
D、2,4

<details>
<summary>点击查看答案与解析</summary>

30.B
I正确:例如，使用先进先出（FIFO）页面置换算法，页面引用串为1，2，3，4，1，2，5，1，2，3，4，5时，分配3帧时产生9次缺页中断，分配4帧时产生10次缺页中断。
Ⅱ错误:最近最少使用（LRU）页面置换算法没有这样的问题。Ⅱ错误。
Ⅳ正确:若页面在内存中，不会产生缺页中断，即不会出现页面的调入/调出，不是虚拟存储器（括作为虚拟内存那部分硬盘）。
综上分析，I、Ⅳ正确。
</details>

#### 31、测得某个采用按需调页策略的计算机系统的部分状态数据为：CPU利用率为20%，用于交换空间的磁盘利用率为97.7%，其他设备的利用率为5%。由此判断系统出现异常，这种情况下，（ ）能提高系统性能

A、安装一个更快的磁盘
B、通过扩大硬盘容量增加交换空间
C、增加运行速度
D、加内存条来增加物理空间容量

<details>
<summary>点击查看答案与解析</summary>

31.D
用于交换空间的磁盘利用率已达97.7％，其他设备的利用率为5％，CPU的利用率为20％，说明在任务作业不多的情况下交换操作非常频繁，因此判断物理内存严重短缺。
</details>

#### 32、假定有一个请求分页存储管理系统，测得系统各相关设备的利用率为：CPU为10%，磁盘交换区为99.7%，其他I/O设备为5%，下面（ ）措施可能改进CPU的利用率

1. 增大内存的容量
2. 增大磁盘交换区的容量
3. 减少多道程序的度数
4. 增加多道程序的度数
5. 使用更快速的磁盘交换区
6. 使用更快速的CPU

A、1,2,3,4
B、1,3
C、2,3,5
D、2,6

<details>
<summary>点击查看答案与解析</summary>

32.B
I正确:增大内存的容量。增大内存可使每个程序得到更多的页面，能减少缺页率，进而减少换入/换出过程，可提高CPU的利用率。
II错误:增大磁盘交换区的容量。因为系统实际已处于频繁的换入/换出过程中，不是因为磁盘交换区容量不够，因此增大磁盘交换区的容量无用
III 正确:减少多道程序的度数。可以提高CPU的利用率，因为从给定的条件知道磁盘交换区的利用率为99.7％，说明系统现在已经处于频繁的换入/换出过程中，可减少主存中的程序。
Ⅳ错误:增加多道程序的度数。系统处于频繁的换入/换出过程中，再增加主存中的用户进程数，只能导致系统的换入换出更频繁，使性能更差。
V错误:使用更快速的磁盘交换区。因为系统现在处于频繁的换入换出过程中，即使采用更快的磁盘交换区，其换入/换出频率也不会改变，因此没用。
VI错误:使用更快速的CPU。系统处于频繁的换入换出过程中，CPU处于空闲状态，利用率不高，提高CPU的速度无济于事。
综上分析:I、III可以改进CPU的利用率。
</details>

#### 33、当系统发生抖动时，可以采取的有效措施是？

1. 撤销部分进程
2. 增加磁盘交换区的容量
3. 提高用户进程的优先级

A、1
B、2
C、3
D、1,2

<details>
<summary>点击查看答案与解析</summary>

33.A
在具有对换功能的操作系统中，通常把外存分为文件区和对换区。前者用于存放文件，后者用于存放从内存换出的进程。抖动现象是指刚刚被换出的页很快又要被访问，为此又要换出其他页，而该页又很快被访问，如此频繁地置换页面，以致大部分时间都花在页面置换上，导致系统性能下降。撤销部分进程可以减少所要用到的页面数，防止抖动。对换区大小和进程优先级都与抖动无关。
</details>

#### 34、下列措施中，能加快虚实地址转化的是（ ）

1. 增大快表容量
2. 让页表常驻内存
3. 增大交换区

A、1
B、2
C、1,2
D、2,3

<details>
<summary>点击查看答案与解析</summary>

34.C
虚实地址转换是指逻辑地址和物理地址的转换。增大快表容量能把更多的表项装入快表，会加快虚实地址转换的平均速率；让页表常驻内存可以省去一些不在内存中的页表从磁盘上调入的过程，也能加快虚实地址转换；增大交换区对虚实地址转换速度无影响，因此I、Ⅱ正确，选C
</details>

#### 35、在页式虚拟存储管理系统中，采用某些页面置换算法会出现Belady现象，即进程的缺页次数会随着分配给该进程的页框个数的增加而增加。下列算法中，可能会出现Belady现象的是？

1. LRU算法
2. FIFO算法
3. OPT算法

A、2
B、1,2
C、1,3
D、2,3

<details>
<summary>点击查看答案与解析</summary>

35.A
只有FIFO算法会导致 Belady异常，选A.
</details>

#### 36、某系统采用改进型CLOCK置换算法，页表项中字段A为访问位，M为修改位。A=0表示页最近没有被访问，A=1表示页最近被访问过。M=0表示页没有被修改过，M=1表示页被修改过。按(A,M)所有可能的取值，将页分为(0,0),(1,0),(0,1),(1,1)四类，则该算法淘汰页的次序为？

A、(0,0),(0,1),(1,0),(1,1)
B、(0,0),(1,0),(0,1),(1,1)
C、(0,0),(0,1),(1,1),(1,0)
D、(0,0),(1,1),(0,1),(1,0)

<details>
<summary>点击查看答案与解析</summary>

36.A
改进型 CLOCK置换算法执行的步骤如下:
1）从指针的当前位置开始，扫描帧缓冲区。在这次扫描过程中，对使用位不做任何修改。选择遇到的第一个帧（A=0，M=0）用于替换。
2）若第1）步失败，则重新扫描，查找（A=0，M=1）的帧。选择遇到的第一个这样的帧用于替换。在这个扫描过程中，对每个跳过的帧，将萁使用位设置成0
3）若第2）步失败，则指针将回到它的最初位置，并且集合中所有帧的使用位均为0重复第1）步，并在有必要时重复第2）步，这样将可以找到供替换的帧。
因此，该算法淘汰页的次序为（0，0），（0，1），（1，0），（1，1），即A正确。
</details>

#### 37、在请求分页系统中，页面分配策略与页面置换策略不能组合使用的是？

A、可变分配，全局置换
B、可变分配，局部置换
C、固定分配，全局置换
D、固定分配，局部置换

<details>
<summary>点击查看答案与解析</summary>

37.C
对各进程进行固定分配时页面数不变，不可能出现全局置换。而A、B、D是现代操作系统中常见的3种策略。
</details>

## 综合题