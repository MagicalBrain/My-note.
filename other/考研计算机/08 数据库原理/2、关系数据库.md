# 2、关系数据库

[toc]

## 2.1 关系数据库概述

## 2.2 关系数据结构及形式化定义

## 2.3 关系代数

关系代数一共有8种运算及其对应的运算符。

### 2.3.1 集合运算符（4种）

并、差、交、笛卡尔积

### 2.3.2 专用运算符（4种）

选择$\sigma$、投影$\pi$、连接$\bowtie$、除$\div$

左外连接⟕、右外连接⟖、全外连接⟗（==这三个符号只能复制typora的latex打不出来==

## 2.4 关系的完整性

关系模型需要满足的三个完整性约束条件为：

1. 实体完整性
2. 参照完整性
3. 用户定义的完整性

其中，1和2是关系模型必须满足的完整性约束条件，又称之为==关系的两个不变性==

### **1、实体完整性**

1. 关系的主属性不能取空值
2. 空值就是“不知道”或“不存在”或“无意义”的值

解释：

(**1**)实体完整性规则是针对基本关系而言的。 一个基本表通常对应现实世界的一个实体集。

(**2**)现实世界中的实体是可区分的，即它们具有某种唯一性标识。

 (**3**)关系模型中以主码作为唯一性标识。 

(**4**)主码中的属性即主属性不能取空值。

主属性取空值，就说明存在某个不可标识的实体，即存在不可区 分的实体，这与第(**2**)点相矛盾，因此这个规则称为实体完整性

### **2、参照完整性**

在关系模型中实体及实体间的联系都是用关系来描述的，

自然存在着关系与关系间的引用。

**参照完整性规则**

若属性(或属性组)**F**是基本关系**R**的外码，它与基本关系**S** 的主码$K_s$相对应(基本关系**R**和**S**不一定是不同的关系)， 则对于**R**中每个元组在**F**上的值必须为:

1. 或者取空值(**F**的每个属性值均为空值)
2. 或者等于**S**中某个元组的主码值

### **3、用户定义的完整性**

实体完整性和参照完整性是关系数据库自动支持的，关系模型必须满足的两个完整性约束条件。

而对于用户定义的完整性，关系模型也必须提供定义和检验的机制，以便用统一的系统的方法来处理它们，而不需要应用程序来承担这个功能。