# 2.2 习题

### 选择题

#### 1、时间片轮转调度算法是为了？

A、多个用户能及时干预系统
B、使系统变得高效
C、优先级较高的进程得到及时响应
D、需要CPU时间最少的进程先做

<details>
<summary>点击查看答案与解析</summary>

    正解：A
    解析：
    时间片轮转的目的是，使得多个交互的用户能够得到及时响应，使得用户以为他“独占”计算机的使用。
</details>

#### 3.（）.有利于CPU繁忙型的作业，而不利于IO繁忙型的作业。

A.时间片轮转调度算法
B.先来先服务调度算法
C.短作业（进程）优先算法
D.优先权调度算法

<details>
<summary>点击查看答案和解析</summary>

正解：B
解析：
先来先服务（FCFS）调度算法是一种最简单的调度算法，在作业调度中采用该算法时，每次调度从后备作业队列中选择一个或多个最先进入该队列的作业，将它们调入内存，为它们分配资源、创建进程，然后放入就绪队列。
FCFS调度算法比较有利于长作业，而不利于短作业。所谓CPU繁忙型的作业，是指该类作业需要大量的CPU时间进行计算，而很少请求IO操作。I/O繁忙型的作业是指CPU处理时，需频繁地请求IO操作。所以CPU繁忙型作业更接近于长作业。答案选择B选项。
</details>

#### 11.采用时间片轮转调度算法分配CPU时，当处于运行态的进程用完一个时间
片后，它的状态是（）状态

A.阻塞
B.运行
C.就绪
D.消亡

<details>
<summary>点击查看答案和解析</summary>

正解：C
解析：
处于运行态的进程用完一个时间片后，其状态会变为就绪态，等待下一次处理器调度。进程执行完最后的语句并使用系统调用exit请求操作系统删除它或出现一些异常情况时，进程才会终止。
</details>

#### 14.下列调度算法中，（）调度算法是绝对可抢占的。

A.先来先服务
B.时间片轮转
C.优先级
D.短进程优先

<details>
<summary>点击查看答案和解析</summary>

正解：B
解析：
时间片轮转算法是按固定的时间配额来运行的，时间一到，不管是否完成，当前的进程必须撤下，调度新的进程，因此它是由时间配额决定的、是绝对可抢占的。而优先级算法和短进程优先算法都可分为抢占式和不可抢占式。
</details>

#### 18、有以下进程需要调度执行（见表）


|  进程名  | 到达时间   | 运行时间   |
| --- | --- | --- |
|   P1 | 0.0   | 9   |
|   P2 | 0.4   | 4   |
|   P3 |   1.0 | 1   |
|  P4  |    5.5|4    |
|  P5  |    7|2    |

1. 若用非抢占式短进程优先调度算法，问这5个进程的平均周转时间是？
2. 若采用抢占式短进程优先调度算法，问这5个进程的平均周转时间是多少？

A. 8.62；6.34 
B. 8.62；6.8
C. 10.62；6.34
D. 10.62；6.8

<details>
<summary>点击查看答案与解析</summary>

正解：D
解析：
对于这种类型的题目，我们可以采用广义甘特图来求解，甘特图的画法在1.2节的习题中已
经有所介绍。我们直接给出甘特图（见下图），以非抢占为例。

在0时刻，进程P1到达，于是处理器分配给P1，由于是不可抢占的，所以P1一旦获得处理器，就会运行直到结束；在9时刻，所有进程已经到达，根据短进程优先调度，会把处理器分配给P3，接下来就是P5；然后，由于P2，P4的预计运行时间一样，所以在P2和P4之间用先来先服务调度，优先把处理器分配给P2，最后再分配给P4，完成任务。
周转时间=完成时间-作业到达时间，从图中显然可以得到各进程的完成时间，于是P1的周转时间是9-0=9；P2的周转时间是16-0.4=15.6；P3的周转时间是10-1=9；P4的周转时间是20-5.5=14.5；P5的周转时间是12-7=5；平均周转时间为（9+15.6+9+14.5+5/5=10.62
同理，抢占式的周转时间也可通过画甘特图求得，而且直观、不易出错。
抢占式的平均周转时间为6.8。
甘特图在操作系统中有着广泛的应用，本节习题中会有不少这种类型的题目，若读者按照上面的方法求解，则解题时就可以做到胸有成竹。
</details>


#### 19、有5个批处理作业A、B、C、D、E，几乎同时到达，其预计运行时间分别为10、6、2、4、8，其优先级分别为3、5、2、1、4，这里5为最优先，以下各种调度算法中功能，平均周转时间为14的是？调度算法

A、时间片轮转算法（时间片为1）
B、优先级调度
C、先来先服务
D、短作业优先

<details>
<summary>点击查看答案与解析</summary>

正解：D
解析：
同18题，画甘特图即可
</details>

#### 21、一个多道批处理系统中仅有P1和P2来年两个作业，P2比P1晚5ms到达，它的计算和I/O操作顺序如下：
P1：计算60ms，I/O80ms，计算20ms
P2：计算120ms，I/O40ms，计算40ms
若不考虑调度和切换时间，则完成两个作业需要的时间最少是？

A、240ms
B、260ms
C、340ms
D、360ms

<details>
<summary>点击查看答案与解析</summary>

正解：B
解析：
由于P2比P1晚到，所以先让P1开始；通过画甘特图即可
</details>

#### 22、菜单CPU系统中有输入和输出设备各1台，现有3个并发执行的作业，每个作业的输入、计算和输出分别为2ms、3ms、4ms，且都按输入、计算、输出的顺序执行，则执行完3个作业需要的时间最少是？

A、15ms
B、17ms
C、22ms
D、27ms

<details>
<summary>点击查看答案与解析</summary>

正解：B
解析：
画甘特图即可。
</details>

#### 23.【2017统考真题】下列有关基于时间片的进程调度的叙述中，错误的是（）。

A.时间片越短，进程切换的次数越多，系统开销越大
B.当前进程的时间片用完后，该进程状态由执行态变为阻塞态
C.时钟中断发生后，系统会修改当前进程在时间片内的剩余时间
D.影响时间片大小的主要因素包括响应时间、系统开销和进程数量等

<details>
<summary></summary>

正解：B
解析：
进程切换带来系统开销，切换次数越多，开销越大，选项A正确。当前进程的时间片用完后，其状态由执行态变为就绪态，选项B错误时钟中断是系统中特定的周期性时钟节拍，操作系统通过它来确定时间间隔，实现时间的延时和任务的超时，选项C正确。现代操作系统为了保证性能最优，通常根据响应时间、系统开销、进程数量、进程运行时间、进程切换开销等因素确定时间片大小，选项D正确。
</details>

#### 25、在进程调度算法中，对短进程不利的是？

A、短进程优先调度算法
B、先来先服务调度算法
C、高响应比优先调度算法
D、多级反馈队列调度算法

<details>
<summary>点击查看答案与解析</summary>

正解：B
解析：
在先来先服务调度算法中，若有一个长进程先来，则对后面的短进程不利
</details>

#### 27、下列说法中，正确的是？

1. 分时系统的时间片固定，因此用户数越多，响应时间越长
2. UNIX是一个强大的多用户、多任务的操作系统，支持多种处理器架构，按照操作系统分类，属于分时操作系统
3. 中断向量地址是中断服务例行程序的入口地址
4. 中断发生时，由硬件保护并更新程序计算器（PC），而不是由软件完成，主要是为了提高处理速度

A、1，2
B、2，3
C、3，4
D、仅4

<details>
<summary>点击查看答案与解析</summary>

正解：A
解析：
硬件保护并更新程序计数器的主要目的是为了系统运行的安全和稳定，处理速度快只是其一个优点，4错
故选A
</details>

#### 28、若某单处理器多进程系统中有多个就绪态进程，则下列关于处理机调度的叙述中，错误的是？

A、在进程结束时能进行处理机调度
B、创建新进程后能进行处理机调度
C、在进程处于临界区时不能进行处理机调度
D、在系统调用完成并返回用户态时能进行处理机调度

<details>
<summary>点击查看答案与解析</summary>

正解：C
解析：
A、B、D显然可以？

进程处于临界区时，只要不破坏临界资源的使用规则就不会影响处理机的调度。

故选C
</details>

#### 31、某系统采用基于优先权的非抢占式进程调度策略，完成一次进程调度和进程切换的系统时间开销为$1 \mu s$，在T时刻就绪队列中有3个进程P1、P2、P3，其在就绪队列中的等待时间，需要的CPU时间和优先权如下表：


|  进程  | 等待时间   | 需要的CPU时间   |优先权    |
| --- | --- | --- | --- |
| P1   |$30\mu s$    |$12\mu s$    | 10   |
|    P2|   $15\mu s$ |   $24 \mu s$ | 30   |
|    P3|   $18\mu s$ | $36\mu s$   |   20 |
若优先权大的优先，从T时刻开始进程调度，则系统的平均周转时间为？

A、$54\mu s$
B、$73\mu s$
C、$74\mu s$
D、$75\mu s$

<details>
<summary>点击查看答案与解析</summary>

正解：D
解析：
要注意的是每次调度都需要$1\mu s$别漏了！
调度后的执行顺序是：P2->P3->P1
P1:$1+24+1+36+1+12+30 = 105\mu s$
P2:$1+24+15=40\mu s$
P3:$1+24+1+36+18 = 80\mu s$
周转时间：$\frac{105+80+40=225}{3}=75\mu s$
故选D
</details>

#### 32.【2019统考真题】系统采用二级反馈队列调度算法进行进程调度。就绪队列Q1采用时间片轮转调度算法，时间片为10ms；就绪队列Q2采用短进程优先调度算法；系统优先调度Q1队列中的进程，当Q1为空时系统才会调度Q2中的进程；新创建的进程首先进入Q1；Q1中的进程执行一个时间片后，若未结束，则转入Q2.若当前Q1，Q2为空，系统依次创建进程P1，P2后即开始进程调度P1，P2需要的CPU时间分别为30ms和20ms，则进程P1，P2在系统中的平均等待时间为（）

 A. 25ms
 B. 20ms
 C. 15ms
 D. 10ms

<details>
<summary>点击查看答案和解析</summary>

正解：C
解析：
进程P1，P2依次创建后进入队列Q1，根据时间片调度算法的规则，进程P1，P2将依次被分配10ms的CPU时间，两个进程分别执行完一个时间片后都会被转入队列Q2，就绪队列Q2采用短进程优先调度算法，此时P1还需要20ms的CPU时间，P2还需要10ms的CPU时间，所以P2会被优先调度执行，10ms后进程P2执行完成之后P1再调度执行，再过20ms后P1也执行完成。运行图表述如下。

进程P1，P2的等待时间分别为图中的虚横线部分，平均等待时间=（P1等待时间+P2等待时
间）2=（20+10）/2=15，因此答案选C
</details>