# 进程管理

[toc]

## 进程的描述

进程的描述——前趋图

为了能更好地描述程序的顺序和并发执行情况，我们先介绍用于描述程序执行先后顺序的前趋图。
所谓前趋图（Precedence Graph），是指一个有向无循环图，可记为DAG（Directed Acyclic Graph），它用于描述进程之间执行的先后顺序。图中的每个结点可用来表示一个进程或程序段，乃至一条语句，结点间的有向边则表示两个结点之间存在的偏序（Partial Order）或前趋关系（Precedence Relation）。

注意
由前趋图的定义可知，前趋图是不允许有循环或回路的存在的，否则必然存在不可能实现的前趋关系。

|顺序执行|并发执行|
|:--:|:--:|
|顺序性|间断性|
|封闭性|失去封闭性|
|可再现性|不可再现性|

# 2.1 进程与线程的基本概念

## 进程（Process）

### 为什么要引入进程？（目的）

更好地描述和控制程序并发执行

### 什么是进程？（定义）

为使参与并发执行的程序能够独立运行，必须为之配置一个专门的数据结构——进程控制块（Process Control Block,PCB)

系统利用PCB来描述和控制进程的基本情况和运行状态，从而达到控制和管理进程的目的

### 程序与进程的区别

**程序**：是静态的，就是个存放在磁盘里的可执行文件，就是一系列指令的集合。

**进程（Process）**：是动态的，是程序的一次执行过程。

同样的程序，执行第一次是一个进程，执行第二次是另外一个进程。
同一个程序的多次执行对应的则是多个进程。

### 进程的组成

1. PCB
2. 程序段
3. 数据段

**PCB**：

PCB的组成：
1. 进程描述信息
2. 进程控制和管理信息
3. 资源分配清单
4. 处理机信息
5. PSW、PC等各种寄存器信息用于进程切换（处理机调度）

### 进程解决什么问题，又是如何解决的？

## 线程

# 2.2 处理机调度

## 调度的基本概念

## 调度的层次

1、高级调度（作业调度）

2、中级调度（内存调度）

3、低级调度（进程调度）

## 进程调度方式

## 调度的基本准则

## 调度的经典算法

### 适合早期批处理系统的调度算法

![适合早期批处理系统的调度算法](https://i.loli.net/2020/10/20/2mzCNVkr6L5M49G.jpg)

## 本节小结

1、为什么要进行处理机调度？

2、调度算法有哪几种？有适合分时、实时操作系统的调度算法吗？

@import "./2.3 进程同步.md"

# 2.4 死锁
## 2.4 死锁

### 2.4.1 死锁的概念

### 2.4.2 死锁的处理策略

### 2.4.3 死锁预防

### 2.4.4 死锁避免

**注意防止死锁和避免死锁的区别，这是一个易错点**
**防止死锁**：是通过事先破坏死锁产生的必要条件来方式死锁的发生。
**避免死锁**：是在资源分配的过程中避免系统进入不安全状态来避免死锁。

**总结成一句话**：
避免死锁并不能完全避免死锁的发生，防止死锁这种做法会降低系统性能。

#### 系统安全状态

#### 银行家算法

#### 安全性算法

### 死锁检测和解除

**资源分配图**

#### 死锁定理

#### 死锁解除

1、资源剥夺法

2、撤销进程法

3、进程回退法