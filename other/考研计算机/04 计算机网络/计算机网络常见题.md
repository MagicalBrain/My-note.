### 计算机网络常见题

[toc]

# 常见选择题

## 计算机网络分层协议及其所包含的相关协议

### 1、Internet的网络层含有的协议是？

A、IP

B、ICMP

C、ARP

D、RARP

正确答案: A B C D  

解析：

首先IP协议和ICMP协议肯定是属于网络层的。

注意：

有的说法认为ARP和RARP是数据链路层，而有的又认为是属于网络层。这两种说法没有对错之分，关键在于理解ARP协议和RARP协议的作用。

ARP和RARP的作用是相反的，所以它们要分层也一定是分在同一层。

ARP的作用是将IP地址解析成MAC地址，而RARP则刚好相反，是将MAC地址解析成IP地址，所以它们是一对在一起才能正常使用的。

## TCP协议

### **1**、建立和关闭一个 tcp ，一共会产生的握手次数是（）

正确答案: A  

A、7

B、6

C、3

D、5

解析：建立连接需要三次握手，关闭需要四次挥手（握手）

需要注意的是有的说法是把四次挥手当成四次握手

# 常见面试题

## TCP协议

### 1、为什么TCP连接的时候握手3次，2次不行吗？

因为需要考虑连接时丢包的问题，如果只握手2次，第二次握手时如果服务端发给客户端的确认报文段丢失，此时服务端已经准备好了收发数(可以理解服务端已经连接成功)据，而客户端一直没收到服务端的确认报文，所以客户端就不知道服务端是否已经准备好了(可以理解为客户端未连接成功)，这种情况下客户端不会给服务端发数据，也会忽略服务端发过来的数据。

### 2、为什么TCP连接的时候是三次，而关闭的时候却是四次

因为只有在客户端和服务端都没有数据要发送的时候才能断开TCP。而客户端发出FIN报文时只能保证客户端没有数据发了，服务端还有没有数据发客户端是不知道的。而服务端收到客户端的FIN报文后只能先回复客户端一个确认报文来告诉客户端我服务端已经收到你的FIN报文了，但我服务端还有一些数据没发完，等这些数据发完了服务端才能给客户端发FIN报文(所以不能一次性将确认报文和FIN报文发给客户端，就是这里多出来了一次)。最后客户端还得反馈服务端说我知道你数据发完了。

### 3、为什么客户端发出第四次挥手的确认报文后要等2MSL的时间才能释放TCP连接？

这里同样是要考虑丢包的问题，如果第四次挥手的报文丢失，服务端没收到确认ACK报文就会重发第三次挥手的报文，这样报文一去一回最长时间就是2MSL，所以需要等这么长时间来确认服务端确实已经收到了。

### 4、如果已经建立了连接，但是客户端突然出现故障了怎么办？

TCP设有一个保活计时器，客户端如果出现故障，服务器不能一直等下去，白白浪费资源。服务器每收到一次客户端的请求后都会重新复位这个计时器，时间通常是设置为==2小时==，若两小时还没有收到客户端的任何数据，服务器就会发送一个探测报文段，以后每隔75秒钟发送一次。若一连发送==10个探测报文==仍然没反应，服务器就认为客户端出了故障，接着就关闭连接。

### 5、HTTP与HTTPS的区别

|   区别    | HTTP                                                         | HTTPS                                                        |
| :-------: | ------------------------------------------------------------ | ------------------------------------------------------------ |
|   协议    | 运行在TCP之上,明文传输,客户端与服务器端 都无法验证对方的身份 | 身披SSL( Secure Socket Layer)外壳的HTTP,运行于SSL上,SSL运行于TCP之上, 是添加了加密和认证机制的HTTP. |
|   端口    | 80                                                           | 443                                                          |
| 资源 消耗 | 较少                                                         | 由于加解密处理,会消耗更多的CPU和内存资源                     |
|   开销    | 无需证书                                                     | 需要证书,而证书一般需要向认证机构购买                        |
| 加密 机制 | 无                                                           | 共享密钥加密和公开密钥加密并用的混合加密机制                 |
|  安全 性  | 弱                                                           | 由于加密机制,安全性强                                        |

### 6、HTTP状态码有哪些？

类別主要有：

+ 1XX：Informational（信息性状态码）接受的请求正在处理
+ 2XX：Success（成功状志码）请求正常处理完毕
+ 3XX：Redirection（重定向状态码）需要进行附加操作以完成请求
+ 4XX：Client Error（客户端错误状态码）服务器无法处理请求
+ 5XX：Server Error（服务器错误状态码）服务器处理请求出错

### 常用HTTP状态码：

#### 2XX成功（这系列表明请求被正常处理了）

+ 200：OK，表示从客户端发来的请求在服务器端被正确处理
+ 204：No content，表示请求成功，但响应报文不含实体的主体部分
+ 206：Partial Content，进行范围请求成功

#### 3XX重定向（表明浏览器要执行特殊处理）

+ 301	moved permanently，永久性重定向，表示资源已被分配了新的URL
+ 302	found，临时性重定向，表示资漂临时被分配了新的 URL
+ 303	see other，表示资源存在着另一个URL，应使用GET 方法获取资源（对于301/302/303响应，几乎所有浏览器都会删除报文主体井自动用GET重新请求）
+ 304	not modified，表示服务器允许访问资源，但请求未满足条件的情况（与重定向无关）
+ 307	temporary redirect，临时重定向，和302含义类似，但是期望客户端保持请求方法不变向新的地址发出请求

#### 4XX（客户端错误）

+ 400	bad request，请求报文存在语法错误
+ 401	unauthorized，表示发送的请求需要有通过 HTTP认证的认证信息
+ 403	forbidden，表示对请求资源的访问被服务器拒绝，可在实体主体部分返回原因描述
+ 404	not found，表示在服务器上没有找到请求的资源

#### 5XX（服务器错误）

+ 500	internal sever error，表示服务器端在执行请求时发生了错误
+ 501	Not Implemented，表示服务器不支持当前请求所需要的某个功能
+ 503	service unavailable，表明服务器暂时处于超负载或正在停机维护，无法处理请求

## 参考资料

[]()