# 4-管理3D图形数据

使用OpenGL渲染3D图形通常需要将若干数据集发送给OpenGL着色器管线。
举个例子，想要绘制一个简单的3D对象，比如一个立方体，你至少需要发送以下项目。

1. 立方体模型的顶点。
2. 控制立方体在3D空间中朝向表现的变换矩阵。

把数据发送给OpenGL着色器管线有两种方式：
1. 通过顶点属性的缓冲区
2. 直接发送给统一变量

理解这两种方式具体的工作原理十分重要，这样我们才可以为每个要发送的项目选取适合的方法。

## 4.1 缓冲区和顶点属性

想要绘制一个对象，它的顶点数据需要被发送给顶点着色器。
通常会把顶点数据在C++端放入一个缓冲区，并把这个缓冲区和着色器中声明的顶点属性相关联。
要完成这件事，有好几个步骤，有些步骤只需要做一次，而如果是动画场景的话，有些步骤需要每帧都做一次。

只做一次的步骤：

**我们一般把这些步骤都放在init()函数里执行**

1. 创建一个缓存区
2. 将顶点数据复制到缓冲区

每帧都要做的步骤：

**我们一般把这些步骤都放在display()函数里执行**

1. 启用包含顶点数据的缓冲区
2. 将这个缓冲区和一个顶点属性相关联
3. 启用这个顶点属性
4. 使用`glDrawArrays()`绘制对象

**VBO**
顶点缓冲对象（Vertex Buffer Object，VBO）中，VBO在C++/OpenGL应用程序中被声明和实例化。一个场景可能需要很多VBO，所以常常会在init()中生成并填充若干个VBO，这样在你的程序需要绘制一个或多个VBO的时候就可以直接使用。

**VAO**
顶点数组对象（Vertex Array Object，VAO）。OpenGL的3.0版本引入了VAO，作为一种组织缓冲区的方法，让缓冲区在复杂场景中更容易操控。OpenGL要求至少创建一个VAO，对我们现在来说一个就够了。
