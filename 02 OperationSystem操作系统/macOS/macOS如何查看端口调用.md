# macOS如何查看端口调用

Ran tool
以下是在 macOS 上查看端口占用的详细步骤，适用于 2024 年最新版系统：

---

## 1. 使用 lsof 命令查看端口占用

### 查看所有监听中的端口及对应进程
```bash
sudo lsof -i -P | grep LISTEN
```
- `lsof`：列出系统打开的文件（包括网络端口）。
- `-i`：显示所有网络连接。
- `-P`：端口号用数字显示（不转为服务名）。
- `grep LISTEN`：只显示监听状态的端口。

### 查看指定端口被哪个进程占用
假如你要查 3000 端口：
```bash
lsof -i :3000
```
或加 sudo（有些端口需要权限）：
```bash
sudo lsof -i :3000
```
输出会显示占用该端口的进程名、PID 等信息。

---

## 2. 使用 netstat 命令查看端口

```bash
netstat -an | grep LISTEN
```
- `-a`：显示所有连接和监听端口
- `-n`：以数字方式显示地址和端口

---

## 3. 查找并杀死占用端口的进程

1. 先查找端口占用（如 3000）：
   ```bash
   lsof -i :3000
   ```
   假设输出中 PID 是 12345。

2. 杀死该进程：
   ```bash
   kill -9 12345
   ```

---

## 4. 使用 nmap 扫描本机端口（需先安装）

1. 安装 nmap（如未安装）：
   ```bash
   brew install nmap
   ```
2. 扫描本机端口：
   ```bash
   sudo nmap -sT localhost
   ```

---

## 5. 图形界面方法

- 打开 **活动监视器（Activity Monitor）**，切换到“网络”标签，可以看到各进程的网络活动，但不如命令行直观显示端口。

---

## 6. 检查防火墙设置

- 系统设置 > 网络 > 防火墙，可以查看哪些应用被允许监听端口。

---

### 常见问题排查

- 端口占用但服务无法访问？检查防火墙设置。
- 端口占用但找不到进程？加 sudo 或重启系统。

---

如需写入你的笔记或有其他端口相关问题，欢迎继续提问！
